<!DOCTYPE html>
<html>
	<head>
	<style>
	html, body {
		margin: 0px;
		width: 100%;
		height: 100%;
		overflow: hidden;
		font-family: monospace;
	}
	canvas {
		width: 100%;
		height: 100%;
	}
	div.overlay {
		position: fixed;
		font-size: 50px;
		color: white;
		-webkit-user-select: none;
	}


    </style>
	</head>
	<body>
		<div>
			<div class="overlay"><p id="country_name">Narnia</p></div>
			<canvas id="c"></canvas>
		</div>

		<script id="vs-default" type="notjs">
			attribute vec3 a_position;
			attribute vec3 a_normal;
			attribute vec2 a_texcoord;

			uniform mat4 u_projection;
			uniform mat4 u_view;
			uniform mat4 model;

			varying vec3 v_normal;
			varying vec3 v_position;
			varying vec2 v_texcoord;

			void main() {
				gl_Position = u_projection * u_view * model * vec4(a_position, 1.0);
				v_normal = normalize(mat3(model) * a_normal);

				v_texcoord = a_texcoord;
			}
		</script>
		<script id="fs-default" type="notjs">
			precision mediump float;

			uniform bool selected;
			uniform vec3 colour;

			uniform sampler2D tex;
			varying vec3 v_normal;
			varying vec2 v_texcoord;


			void main() {
				// vec3 testDir = normalize(vec3(0,100.0,0) - gl_FragCoord.xyz);
				// float diff = max(dot(v_normal, testDir), 0.0);
				// vec3 diffuse = diff * vec3(0.5, 0.1, 0.3);
				vec3 sel = vec3(0.5, 0.9, 0.2);
				if(selected == true) {
					gl_FragColor = vec4(sel, 1.0);
					return;
				}

				if(v_texcoord.x > -0.0) {
					gl_FragColor = texture2D(tex, vec2(v_texcoord.x, v_texcoord.y));
					return;
				}
				gl_FragColor = vec4(colour.x / 255.0, colour.y / 255.0, colour.z / 255.0, 1.0);

			}
		</script>
		<script src="twgl-full.js"></script>
		<script src="bundle.js"></script>
	</body>
</html>
